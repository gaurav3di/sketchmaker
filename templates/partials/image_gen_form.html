<form id="imageGenForm" class="space-y-8">
    <div class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Image Description</h2>
        <textarea id="userInput" name="message" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent resize-none" placeholder="Describe your image content... e.g., 'Create a YouTube thumbnail with a hand-drawn sketch style showing a vibrant cityscape for a travel vlog'"></textarea>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
            <label for="model" class="block text-sm font-medium text-gray-700 mb-1">Model</label>
            <select id="model" name="model" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                <option value="fal-ai/flux-pro">Flux Pro</option>
                <option value="fal-ai/flux-lora">Flux Lora</option>
                <option value="fal-ai/flux/dev">Flux Dev</option>
                <option value="fal-ai/flux-realism">Flux Realism</option>
            </select>
        </div>
        <div>
            <label for="imageSize" class="block text-sm font-medium text-gray-700 mb-1">Image Size</label>
            <select id="imageSize" name="image_size" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                <option value="youtube_thumbnail">YouTube Thumbnail (1280x704)</option>
                <option value="landscape_4_3">Landscape 4:3 (1280x960)</option>
                <option value="landscape_16_9">Landscape 16:9 (1280x720)</option>
                <option value="portrait_4_3">Portrait 4:3 (960x1280)</option>
                <option value="portrait_16_9">Portrait 16:9 (720x1280)</option>
                <option value="square">Square 1:1 (1024x1024)</option>
                <option value="square_hd">Square HD (1280x1280)</option>
                <option value="instagram_post_square">Instagram Post Square (1080x1080)</option>
                <option value="instagram_post_portrait">Instagram Post Portrait (1080x1360)</option>
                <option value="instagram_story">Instagram Story (1080x1920)</option>
                <option value="logo">Logo (512x512)</option>
                <option value="blog_banner">Blog Banner (1280x640)</option>
                <option value="linkedin_post">LinkedIn Post (1200x628)</option>
                <option value="facebook_post_landscape">Facebook Post (1200x628)</option>
                <option value="twitter_header">Twitter Header (1500x500)</option>
            </select>
        </div>
        <div class="relative">
            <label for="artStyle" class="block text-sm font-medium text-gray-700 mb-1">Artistic Style</label>
            <select id="artStyle" name="art_style" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent" onchange="showArtStyleDescription()">
                <option value="None">None</option>
                <option value="Impressionism">Impressionism</option>
                <option value="Cubism">Cubism</option>
                <option value="Surrealism">Surrealism</option>
                <option value="Abstract Expressionism">Abstract Expressionism</option>
                <option value="Fauvism">Fauvism</option>
                <option value="Art Nouveau">Art Nouveau</option>
                <option value="Baroque">Baroque</option>
                <option value="Renaissance">Renaissance</option>
                <option value="Gothic">Gothic</option>
                <option value="Pop Art">Pop Art</option>
                <option value="Minimalism">Minimalism</option>
                <option value="Post-Impressionism">Post-Impressionism</option>
                <option value="Romanticism">Romanticism</option>
                <option value="Realism">Realism</option>
                <option value="Symbolism">Symbolism</option>
                <option value="Expressionism">Expressionism</option>
                <option value="Neo-Classical">Neo-Classical</option>
                <option value="Constructivism">Constructivism</option>
                <option value="Futurism">Futurism</option>
                <option value="Dadaism">Dadaism</option>
                <option value="Art Deco">Art Deco</option>
                <option value="Op Art">Op Art</option>
                <option value="Photorealism">Photorealism</option>
                <option value="Bauhaus">Bauhaus</option>
                <option value="Illustrative">Illustrative</option>
            </select>
            <div id="artStyleTooltip" class="hidden absolute z-10 w-64 p-2 mt-1 text-sm text-white bg-gray-800 rounded-lg shadow-lg"></div>
        </div>
        <div>
            <label for="colorScheme" class="block text-sm font-medium text-gray-700 mb-1">Color Scheme</label>
            <select id="colorScheme" name="color_scheme" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                <option value="None">None</option>
                <option value="Warm">Warm</option>
                <option value="Cool">Cool</option>
                <option value="Pastel">Pastel</option>
                <option value="Monochrome">Monochrome</option>
                <option value="Vibrant">Vibrant</option>
                <option value="Earthy">Earthy</option>
                <option value="Neon">Neon</option>
            </select>
        </div>
        <div>
            <label for="lightingMood" class="block text-sm font-medium text-gray-700 mb-1">Lighting and Mood</label>
            <select id="lightingMood" name="lighting_mood" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                <option value="None">None</option>
                <option value="Natural Light">Natural Light</option>
                <option value="Studio Light">Studio Light</option>
                <option value="Dramatic">Dramatic</option>
                <option value="Soft">Soft</option>
                <option value="High Contrast">High Contrast</option>
                <option value="Low Key">Low Key</option>
                <option value="High Key">High Key</option>
            </select>
        </div>
        <div>
            <label for="subjectFocus" class="block text-sm font-medium text-gray-700 mb-1">Subject Focus</label>
            <select id="subjectFocus" name="subject_focus" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                <option value="None">None</option>
                <option value="People">People</option>
                <option value="Nature">Nature</option>
                <option value="Animals">Animals</option>
                <option value="Architecture">Architecture</option>
                <option value="Objects">Objects</option>
                <option value="Abstract">Abstract</option>
            </select>
        </div>
        <div>
            <label for="backgroundStyle" class="block text-sm font-medium text-gray-700 mb-1">Background Style</label>
            <select id="backgroundStyle" name="background_style" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                <option value="None">None</option>
                <option value="Plain">Plain</option>
                <option value="Gradient">Gradient</option>
                <option value="Textured">Textured</option>
                <option value="Patterned">Patterned</option>
                <option value="Blurred">Blurred</option>
                <option value="Environmental">Environmental</option>
            </select>
        </div>
        <div>
            <label for="effectsFilters" class="block text-sm font-medium text-gray-700 mb-1">Effects and Filters</label>
            <select id="effectsFilters" name="effects_filters" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                <option value="None">None</option>
                <option value="Vintage">Vintage</option>
                <option value="Black and White">Black and White</option>
                <option value="Sepia">Sepia</option>
                <option value="HDR">HDR</option>
                <option value="Vignette">Vignette</option>
                <option value="Grain">Grain</option>
                <option value="Blur">Blur</option>
            </select>
        </div>
        <div>
            <label for="numInferenceSteps" class="block text-sm font-medium text-gray-700 mb-1">Number of Inference Steps</label>
            <input type="number" id="numInferenceSteps" name="num_inference_steps" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent" value="28" min="1" max="50">
        </div>
        <div>
            <label for="guidanceScale" class="block text-sm font-medium text-gray-700 mb-1">Guidance Scale</label>
            <input type="number" id="guidanceScale" name="guidance_scale" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent" value="3.5" min="0" max="20" step="0.1">
        </div>
        <div>
            <label for="seed" class="block text-sm font-medium text-gray-700 mb-1">Seed (optional)</label>
            <input type="number" id="seed" name="seed" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent" min="0">
        </div>
    </div>

    <div id="loraInputs" class="hidden">
        <div>
            <label for="loraPath" class="block text-sm font-medium text-gray-700 mb-1">LoRA Path (safetensors)</label>
            <input type="text" id="loraPath" name="lora_path" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent">
        </div>
        <div>
            <label for="loraScale" class="block text-sm font-medium text-gray-700 mb-1">LoRA Scale</label>
            <input type="number" id="loraScale" name="lora_scale" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent" value="1" min="0" max="1" step="0.1">
        </div>
    </div>

    <div class="text-center">
        <button type="button" id="enhancePrompt" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-6 rounded-full hover:opacity-90 transition duration-300 flex items-center justify-center mx-auto">
            <i class="fas fa-magic mr-2"></i> Enhance Image Prompt
        </button>
    </div>
</form>

<div id="enhancedPromptContainer" class="mt-8 hidden">
    <h3 class="text-xl font-semibold mb-4">Enhanced Prompt</h3>
    <textarea id="enhancedPromptText" class="w-full p-4 bg-gray-100 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-600 focus:border-transparent resize-vertical" rows="10"></textarea>
    <div class="text-center mt-4">
        <button type="button" id="reEnhancePrompt" class="bg-blue-500 text-white font-bold py-2 px-4 rounded-full hover:bg-blue-600 transition duration-300 mr-4">
            Re-Enhance Prompt
        </button>
        <button type="button" id="generateImage" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-6 rounded-full hover:opacity-90 transition duration-300">
            Generate Image
        </button>
    </div>
</div>
